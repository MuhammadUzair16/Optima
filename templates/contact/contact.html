{% extends 'base.html' %}

{% load static %}

{% block content %}

<!-- Hero Start -->
<div class="container-fluid bg-primary p-5 bg-hero mb-5">
    <div class="row py-5">
        <div class="col-12 text-center">
            <h1 class="display-2 text-uppercase text-white mb-md-4">Contact</h1>
            <a href="{% url 'home' %}" class="btn btn-primary py-md-3 px-md-5 me-3">Home</a>
            <a href="{% url 'contact' %}" class="btn btn-light py-md-3 px-md-5">Contact</a>
        </div>
    </div>
</div>
<!-- Hero End -->


<!-- Contact Start -->

<div class="container-fluid p-5">
    <div class="mb-5 text-center">
        <h5 class="text-primary text-uppercase">Contact Us</h5>
        <h1 class="display-3 text-uppercase mb-0">Get In Touch</h1>
    </div>
    <div class="row g-5 mb-5">
        <div class="col-lg-4">
            <div class="d-flex flex-column align-items-center bg-dark rounded text-center py-5 px-3">
                <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                    <i class="fa fa-map-marker-alt fs-4 text-white"></i>
                </div>
                <h5 class="text-uppercase text-primary">Visit Us</h5>
                <p class="text-secondary mb-0">123 Street, New York, USA</p>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="d-flex flex-column align-items-center bg-dark rounded text-center py-5 px-3">
                <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                    <i class="fa fa-envelope fs-4 text-white"></i>
                </div>
                <h5 class="text-uppercase text-primary">Email Us</h5>
                <p class="text-secondary mb-0">info@example.com</p>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="d-flex flex-column align-items-center bg-dark rounded text-center py-5 px-3">
                <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                    <i class="fa fa-phone fs-4 text-white"></i>
                </div>
                <h5 class="text-uppercase text-primary">Call Us</h5>
                <p class="text-secondary mb-0">+012 345 6789</p>
            </div>
        </div>
    </div>
    {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
    <div class="row g-0">
        <div class="col-lg-6">
            <div class="bg-dark p-5">
                <form method="post" action="{% url 'contact' %}">
                    {% csrf_token %}
                    <div class="row g-3">
                        <div class="col-6">
                            {{ form.name }}
                        </div>
                        <div class="col-6">
                            {{ form.email }}
                        </div>
                        <div class="col-12">
                            {{ form.subject }}
                        </div>
                        <div class="col-12">
                            {{ form.message }}
                        </div>
                        <div class="col-12">
                            <button class="btn btn-primary w-100 py-3" type="submit">Send Message</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-lg-6">
            <iframe class="w-100"
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3299.958113627201!2d73.24048347482162!3d34.19854660999249!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38de304446d9297f%3A0xe744bea4e9033b92!2sCOMSATS%20University%20Islamabad%20-%20Abbottabad%20Campus!5e0!3m2!1sen!2s!4v1721401871712!5m2!1sen!2s"
                frameborder="0" style="height: 457px; border:0;" allowfullscreen="" aria-hidden="false"
                tabindex="0"></iframe>
        </div>
    </div>
</div>
<!-- Contact End -->
<script>
    // Example JavaScript for client-side validation
    (function() {
        'use strict';
        window.addEventListener('load', function() {
            var forms = document.getElementsByClassName('needs-validation');
            Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();

      // JavaScript to fade out messages after 4-5 seconds
    setTimeout(function() {
        var messages = document.querySelectorAll('.alert');
        messages.forEach(function(message) {
            message.classList.add('fade');
            setTimeout(function() {
                message.style.display = 'none';
            }, 500); // Adjust the timeout for a smoother transition
        });
    }, 4000); // 4000 milliseconds = 4 seconds
</script>



{% endblock %}